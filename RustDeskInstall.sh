#!/bin/bash
echo -e "\n\n********************************************************************\n********************************************************************\n********************** JJ RustDesk install script ***********************\n********************************************************************\n*********** https://github.com/Blakkos/n8n-cloud-aws ***************\n********************************************************************\n********************************************************************\n\n\n"

# System update
echo -e "\n\n********************************************************************\n************************ Updating system... ************************\n********************************************************************\n\n\n"
sudo apt update && sudo apt upgrade -y
echo -e "\n\n********************************************************************\n************************** System updated! *************************\n********************************************************************\n\n\n"

# Docker installation
echo -e "\n\n********************************************************************\n*********************** Installing Docker... ***********************\n********************************************************************\n\n\n"
sudo apt install docker.io -y
sudo systemctl start docker
sudo systemctl enable docker
echo -e "\n\n********************************************************************\n************************ Docker installed! *************************\n********************************************************************\n\n\n"


# Starting the n8n instance with a docker volume called n8n_data pointing to the /home/node/.n8n folder inside the container. This folder contains all the data needed for n8n to stay persistent between upgrades.
wget https://github.com/Blakkos/RustDesk-Cloud-Install/raw/refs/heads/main/compose.yml

echo -e "\n\n********************************************************************\n******************* Starting RustDesk instances... *****************\n********************************************************************\n\n\n"
sudo docker compose up -d
echo -e "\n\n********************************************************************\n******************* RustDesk instances started! ********************\n********************************************************************\n\n\n"


# Fin.
echo -e "\n\n\n\n********************************************************************\n********************************************************************\n******************** JJ RustDesk install script ********************\n********************************************************************\n******** https://github.com/Blakkos/RustDesk-Cloud-Install *********\n********************************************************************\n********************************************************************\n****************** RustDesk install process ended! *****************\n********************************************************************\n********************************************************************"
